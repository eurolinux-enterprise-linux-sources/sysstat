diff -ur sysstat-9.0.4.orig/sysstat.in sysstat-9.0.4/sysstat.in
--- sysstat-9.0.4.orig/sysstat.in	2013-07-23 11:00:35.455114636 +0200
+++ sysstat-9.0.4/sysstat.in	2013-07-23 10:58:24.027740201 +0200
@@ -1,43 +1,54 @@
 #!/bin/sh
 #
 # chkconfig: 12345 01 99
+# description: Reset the system activity logs
+#
 # @INIT_DIR@/sysstat
 # (C) 2000-2009 Sebastien Godard (sysstat <at> orange.fr)
 #
 ### BEGIN INIT INFO
+# Provides:             sysstat
+# Required-Start:
+# Required-Stop:
+# Default-Start: 1 2 3 4 5
+# Default-Stop: 0 6
 # Description: Reset the system activity logs
 # Short-Description: reset the system activity logs
+### END INIT INFO
 #@(#) @PACKAGE_NAME@-@PACKAGE_VERSION@ startup script:
 #@(#)	 Insert a dummy record in current daily data file.
 #@(#)	 This indicates that the counters have restarted from 0.
-### END INIT INFO
 
 RETVAL=0
-SYSCONFIG_DIR=@SYSCONFIG_DIR@
-SADC_OPTIONS="-S DISK"
+PIDFILE=/var/run/sysstat.pid
 
 # See how we were called.
 case "$1" in
   start)
-	exitCodeIndicator="$(mktemp /tmp/sysstat-XXXXXX)" || exit 1
-	echo -n "Calling the system activity data collector (sadc): "
-	@SU_C_OWNER@ @QUOTE@ @SA_LIB_DIR@/sa1 --boot ${SADC_OPTIONS} || rm -f ${exitCodeIndicator} @QUOTE@
-
-	# Try to guess if sadc was successfully launched. The difficulty
-	# here is that the exit code is lost when the above command is
-	# run via "su foo -c ..."
-	if [ -f "${exitCodeIndicator}" ]; then
-		rm -f ${exitCodeIndicator}
-	else
-		RETVAL=2
-	fi
+	[ $UID -eq 0 ] || exit 4
+	echo $$ > $PIDFILE || exit 1
+	echo -n "Calling the system activity data collector (sadc)... "
+	@SU_C_OWNER@ @QUOTE@ @SA_LIB_DIR@/sa1 --boot @QUOTE@
+	[ $? -eq 0 ] || RETVAL=1
+	rm -f $PIDFILE
 	echo
 	;;
-  stop|status|restart|reload|force-reload|condrestart|try-restart)
+
+  status)
+	[ -f $PIDFILE ] || RETVAL=3
+	;;
+
+  stop)
+	[ $UID -eq 0 ] || exit 4
+	;;
+
+  restart|reload|force-reload|condrestart|try-restart)
 	;;
+
   *)
 	echo "Usage: sysstat {start|stop|status|restart|reload|force-reload|condrestart|try-restart}"
-	exit 2
+	RETVAL=2
 esac
+
 exit ${RETVAL}
 
